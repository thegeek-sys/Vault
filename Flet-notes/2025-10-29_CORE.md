## $\verb|MPI_Sendrecv|$
An alternative to scheduling the communications ourselves (and to using `Isend`/`Irecv`/`Wait`)
`MPI_Sendrecv` Carries out a blocking send and a receive in a single call

The dest and the source can be the same or different. Especially helpful because MPI schedules the communication so that the program won’t hang or crash

(esistono anche delle chiamate collettive non bloccanti, Ibcast es restituisce immediatamente il controllo)


## Processes and threads
A process is an instance of a running (or suspended program). Threads are analogous to a “light-weight” process. In a shared memory program a single process may have multiple threads of control

(guarda ppt)
## OpenMP vs. Pthreads
OpenMP provides a higher abstraction interface
- on POSIX systems, it is most likely implemented on top of Pthreads
- on non-POSIX sytem (eg Windows), it will be implemented on top of some other threading abstraction



## How many threads should we run?
In principle, you should try to avoid having more threads than cores but there are situations where it might make sense

## Threads safety in MPI
Are MPI calls thread-safe? (che succede se faccio due MPI send da due thread diversi allo stesso tempo)

```c
int MPI_Init_thread(int *argc, char ***argv, int required, int *provided)
```

argv → same as MPI_Init
required → required “threading level” (IN)
provided → supported “threading level” (OUT)

