operatori unari non sono sufficienti per unire diverse relazioni

## Unione
L’unione serve a costruire una relazione contenente tutte le ennuple che appartengono ad almeno uno dei due operandi
$$
r_{1} \cup r_{2}
$$
> [!warning]
> L’unione può essere applicata a due istanze **union compatibili**, ovvero solo se:
> - hanno lo stesso numero di attributi
> - gli attributi corrispondenti (nell’ordine) sono definiti sullo stesso dominio (es. se in un’attributo ho una data e nel corrispondente nella seconda relazione ho un cognome non si possono unire)
> 
> Stesso numero di attrbut ordinatamente sugli stessi domini e ordinatamente con lo stesso significato

se ho due relazioni in cui all’ultimo posto ho il numero di esami ma nell’altra relazione ho l’età perderebbe di senso l’unione delle due
dunque se voglio effettuare l’unione tra due istanze mi conviene prima fare delle proiezioni per eliminare gli attributi incompatibili

### Esempio
![[Screenshot 2024-10-02 alle 15.37.22.png|470]]
In questo caso le due relazioni sono union compatibili

![[Screenshot 2024-10-02 alle 15.38.51.png|470]]


![[Screenshot 2024-10-02 alle 15.43.21.png|470]]
In questo caso non posso fare l’unione. Per risolvere dunque devo prima fare una proiezione per poter poi fare l’unione. (non era necessario fare la proiezione sui docenti)
$$
\text{Personale}=\text{Docenti}\cup \pi_{\text{Nome, CodDoc, Dipartimento}}(\text{Amministrativi})
$$


![[Screenshot 2024-10-02 alle 15.49.56.png|470]]
In questo esempio non è possibile unire le due relazioni in quanto non sono union compatibili: attributi corrispondenti sono definiti su domini diversi. Devo per questo fare una proiezione su entrambe le relazioni
$$
\text{Personale} = \pi_{\text{Nome, CodDoc}}(Docente)\cup \pi_{\text{Nome,  CodAmm}}(\text{Amministrativi})
$$

![[Screenshot 2024-10-02 alle 15.53.36.png|470]]
In questo esempio le due relazioni sono union compatibili ma gli attributi anche se definiti sugli stessi domini hanno un significato diverso
$$
\text{Personale} = \pi_{\text{Nome, CodDoc}}(Docente)\cup \pi_{\text{Nome,  CodAmm}}(\text{Amministrativi})
$$

## Differenza
Si applica a operandi union compatibili. La differenza consente di costruire una relazione contentente tutte le tuple che appartengono al primo operando e non appartengono al secondo operando
$$
r_{1}-r_{2}
$$
>[!warning] La differenza non è commutativa

### Esempio
![[Screenshot 2024-10-02 alle 16.00.34.png|470]]
$$
\text{Studenti}-\text{Amministrativi}=\text{studenti  che non sono anche amministrativi}
$$
$$
\text{Amministrativi} - \text{Studenti} = \text{amministrativi che non sono anche studenti}
$$
![[Screenshot 2024-10-02 alle 16.03.03.png|470]]


## Intersezione
Si applica a operandi union compatibili. L’intersezione consente di costruire una relazione contenente tutte le tutple che appartengono  ad entrmbi gli operandi
$$
r_{1}\cap r_{2}=(r_{1}-(r_{1}-r_{2}))
$$
