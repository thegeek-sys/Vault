slide 20
### Esempio 2
Nomi e città dei clienti che hanno ordinato più di 100 pezzi per almeno un articolo con prezzo superiore a 2


$$
\pi_{\text{Nome, Città}}(\sigma_{\text{N-pezzi}>100\land \text{Prezzo}>2}((\text{Cliente}\bowtie \text{Ordine})\bowtie \text{Articolo}))
$$

se tra le due tabelle non ci stanno attributi con lo stesso nome il risultato sarà un prodotto cartesiano
se tra le due tabelle non ci stanno tuple che hanno lo stesso valore per uno stesso attributo il risultato del join sarà una relazione vuota

#### Alternativa
In alternativa potremmo prima
$$
\sigma_{\text{N-pezzi}>100}(\text{Ordine})
$$

quindi fare il join con cliente
$$
\text{Cliente}\bowtie \sigma_{\text{N-pezzi}>100}(\text{Ordine})
$$

per quanto riguarda il prezzo invece mi conviene fare una proiezione sul numero articolo e sul prezzo per poi selezionare quelli con prezzo > 2
$$
\sigma_{\text{Prezzo}>2}(\pi_{\text{A\#, Prezzo}}(\text{Articolo}))
$$

a questo punto faccio il join tra le due cose
$$
(\text{Cliente}\bowtie \sigma_{\text{N-pezzi}>100}(\text{Ordine}))\bowtie \sigma_{\text{Prezzo}>2}(\pi_{\text{A\#, Prezzo}}(\text{Articolo}))
$$

da questo quindi seleziono il nome e la città
$$
\pi_{\text{Nome, Città}}((\text{Cliente}\bowtie \sigma_{\text{N-pezzi}>100}(\text{Ordine}))\bowtie \sigma_{\text{Prezzo}>2}(\pi_{\text{A\#, Prezzo}}(\text{Articolo})))
$$

### Join naturale possibili errori
Perché il join naturale abbia senso gli attributi devono avere lo stesso significato
