## Il server http integrato di Go
Go include una libreria HTTP completa nello standard package `net/http`
- `http.Handler` → interfaccia usata per gestire le richieste
- `http.HandleFunc` → funzione per associare un percorso a una funzione gestore
- `http.ListenAndServe` → avvia il server HTTP

Il gestore di richieste la firma:
```go
func handler(w http.ResponseWriter, r *http.Request)
```

>[!example] Servizio “pari o dispari”
>Creiamo un endpoint semplice che genera un numero casuale e ne restituisce la parità
>- `http.ResponseWriter(x)` → usato per scrivere la risposta inviata al server (corpo della risposta)
>- `w.Header().Set(...)` → utilizzato per impostare gli header della risposta (es. `Content-Type`); deve essere chiamato prima di scrivere il corpo!
>- `fmt.Fprintf(w, ...)` → funzione utile che accetta un `io.Writer` (come `w`) per scrivere la risposta
>
>```go
>func evenRandomNumber(w http.ResponseWriter, r *http.Request) {
>	// imposta l'header prima di scrivere il corpo
>	w.Header().Set("Content-Type", "text/plain")
>	
>	p:=rand.Int()
>	if p%2 == 0 {
>		fmt.Fprintf(w, "%d is even", p)
>	} else {
>		fmt.Fprintf(w, "%d is odd", p)
>	}
>}
>```

## Lettura dei parametri: query string
Per accettare dati da un client tramite l’URL (metodo `GET`), si usano i **query string parameters**

Accesso ai parametri:
1. la richiesta `r` contiene l’URL: `r.URL` (di tipo `*url.URL`)
2. si usa `.Query()` per ottenere una mappa dei parametri (di tipo `url.Values`)
3. si usa `Get("nome_parametro")` per estrarre il valore

>[!example] Url: `http://localhost:8090/?name=John+Doe`
>```go
>func hi(w http.Responsewriter, r *http.Request) {
>	// estrae il valore del parametro "name"
>	name := r.URL.Query().Get("name")
>	
>	w.Header().Set("Content-Type", "text/plain")
>	
>	// stampa il saluto, utilizzando il nome ricevuto
>	fmt.Fprintf(w, "Hi %s!", name)
>}
>```