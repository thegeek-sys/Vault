la trasparenza referenziale generalmente non è vera per i linguaggi imperativi

>[!question] Which is the type of `++` operator?
>```haskell
>Prelude> :t (++)
>(++) :: [a] -> [a] -> [a]
>```
>
>`a` is a type variable. The type must be interpreted universally quantified. Indeed:

Some more polimorphic functions:
```haskell
Prelude> :t zip
zip :: [a] -> [b] -> [(a, b)]

Prelude> zip [1,2,3]['a','b']
[(1,'a'),(2,['b'])]

Prelude> :t (.)
(.) :: (b->c) -> (a->b) -> a -> c
```

`(.)` is a function of higher order (functional) beacause it has a parameter other functions. It is function composition

Other functionals:
```haskell
Prelude> :t map
map :: (a->b) -> [a] -> [b]

Prelude> :t zipWith
zipWith :: (a -> b -> c) -> [a] -> [b] -> [c]
```

The type of `(+)` is slightly more complicated:
```haskell
Prelude> :t (+)
(+) :: (Num a) => a -> a -> a
```

that has to be read: it is similar to Java interface, and it means that all types on which `(+)` is defined must be numeric types

`Num` is a **class**. Two classes of common use are: `Eq` (that is types with an equality relation) and `Ord` (types with a order relation)

For example, a function `sort` should be possible type:
```haskell
sort :: (Ord a) => [a] -> [a]
```

In Haskell is pre-defined an “undefined constant”
```haskell
Prelude> undefined
*** Exception: Prelude.undefined
```

More intrestingly, the type of `undefined`
```haskell
undefined :: a
```

But which kind of value can be typed as $\forall a.a$?

## Compositionality ed Equations
An important aspect of functional programming is program composition. We now introduce the functional `map` and a first example of equational reasoning

```haskell
map :: (a -> b) -> [a] -> [b]
-- applies a function to all values in a list
> map (*2) [1, 2, 3]
[2, 4, 6]
> map length [“I”, “love”, ”haskell”]
[1, 4, 7]
> :t (.) -- function composition
(.) :: (b -> c) -> (a -> b) -> a -> c
> map ((*2) . length) [“I”, “love”, ”haskell”]
[2, 8, 14] -- function composes!
> map (*2) (map length [“I”, “love”, ”haskell”])
[2, 8, 14]
> (map (*2) . (map length)) [“I”, “love”, ”haskell”]
[2, 8, 14]
```